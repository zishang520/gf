---
title: 'è¯·æ±‚è¾“å…¥ğŸ”¥'
sidebar_position: 3
---

è¯·æ±‚è¾“å…¥ä¾é  `ghttp.Request` å¯¹è±¡å®ç°ï¼Œ `ghttp.Request` ç»§æ‰¿äº†åº•å±‚çš„ `http.Request` å¯¹è±¡ã€‚ `ghttp.Request` åŒ…å«ä¸€ä¸ªä¸å½“å‰è¯·æ±‚å¯¹åº”çš„è¿”å›è¾“å‡ºå¯¹è±¡ `Response`ï¼Œç”¨äºæ•°æ®çš„è¿”å›å¤„ç†ã€‚

ç›¸å…³æ–¹æ³•ï¼š [https://pkg.go.dev/github.com/gogf/gf/v2/net/ghttp#Request](https://pkg.go.dev/github.com/gogf/gf/v2/net/ghttp#Request)

## ç®€è¦è¯´æ˜

å¯ä»¥çœ‹åˆ° `Request` å¯¹è±¡çš„ **å‚æ•°è·å–æ–¹æ³•** éå¸¸ä¸°å¯Œï¼Œå¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š

| å¸¸ç”¨æ–¹æ³• | æè¿° |
| --- | --- |
| `Get` | å¸¸ç”¨æ–¹æ³•ï¼Œç®€åŒ–å‚æ•°è·å–ï¼Œ `GetRequest` çš„åˆ«åã€‚ |
| `GetQuery` | è·å– `GET` æ–¹å¼ä¼ é€’è¿‡æ¥çš„å‚æ•°ï¼ŒåŒ…æ‹¬ `Query String` åŠ `Body` å‚æ•°è§£æã€‚ |
| `GetForm` | è·å–è¡¨å•æ–¹å¼ä¼ é€’è¿‡æ¥çš„å‚æ•°ï¼Œè¡¨å•æ–¹å¼æäº¤çš„å‚æ•° `Content-Type` å¾€å¾€ä¸º `application/x-www-form-urlencoded`, `application/form-data`, `multipart/form-data`, `multipart/mixed` ç­‰ç­‰ã€‚ |
| `GetRequest` | è·å–å®¢æˆ·ç«¯æäº¤çš„æ‰€æœ‰å‚æ•°ï¼ŒæŒ‰ç…§å‚æ•°ä¼˜å…ˆçº§è¿›è¡Œè¦†ç›–ï¼Œä¸åŒºåˆ†æäº¤æ–¹å¼ã€‚ |
| `Get*Struct` | å°†æŒ‡å®šæäº¤ç±»å‹çš„æ‰€æœ‰è¯·æ±‚å‚æ•°ç»‘å®šåˆ°æŒ‡å®šçš„ `struct` å¯¹è±¡ä¸Šï¼Œæ³¨æ„ç»™å®šçš„å‚æ•°ä¸ºå¯¹è±¡æŒ‡é’ˆã€‚ç»å¤§éƒ¨åˆ†åœºæ™¯ä¸­å¾€å¾€ä½¿ç”¨ `Parse` æ–¹æ³•å°†è¯·æ±‚æ•°æ®è½¬æ¢ä¸ºè¯·æ±‚å¯¹è±¡ï¼Œå…·ä½“è¯¦è§åç»­ç« èŠ‚ã€‚ |
| `GetBody/GetBodyString` | è·å–å®¢æˆ·ç«¯æäº¤çš„åŸå§‹æ•°æ®ï¼Œè¯¥æ•°æ®æ˜¯å®¢æˆ·ç«¯å†™å…¥åˆ° `body` ä¸­çš„åŸå§‹æ•°æ®ï¼Œä¸ `HTTP Method` æ— å…³ï¼Œä¾‹å¦‚å®¢æˆ·ç«¯æäº¤ `JSON/XML` æ•°æ®æ ¼å¼æ—¶å¯ä»¥é€šè¿‡è¯¥æ–¹æ³•è·å–åŸå§‹çš„æäº¤æ•°æ®ã€‚ |
| `GetJson` | è‡ªåŠ¨å°†åŸå§‹è¯·æ±‚ä¿¡æ¯è§£æä¸º `gjson.Json` å¯¹è±¡æŒ‡é’ˆè¿”å›ï¼Œ `gjson.Json` å¯¹è±¡å…·ä½“åœ¨ [é€šç”¨ç¼–è§£ç -gjson](/docs/ç»„ä»¶åˆ—è¡¨/ç¼–ç è§£ç /é€šç”¨ç¼–è§£ç -gjson) ç« èŠ‚ä¸­ä»‹ç»ã€‚ |
| `Exit*` | ç”¨äºè¯·æ±‚æµç¨‹é€€å‡ºæ§åˆ¶ï¼Œè¯¦è§æœ¬ç« åç»­è¯´æ˜ã€‚ |

## æäº¤æ–¹å¼

`GoFrame` æ¡†æ¶çš„å‚æ•°è·å–ä¸æ˜¯é€šè¿‡ `HTTP Method` æ¥åšåŒºåˆ†ï¼Œè€Œæ˜¯é€šè¿‡å‚æ•°æäº¤ç±»å‹æ¥åŒºåˆ†ã€‚ä¾‹å¦‚ï¼Œåˆ†åˆ«é€šè¿‡ `HTTP Method: POSTã€INPUTã€DELETE` æ¥æäº¤è¡¨å•å‚æ•°ï¼Œåœ¨æœåŠ¡ç«¯è·å–å‚æ•°ä¸æ˜¯é€šè¿‡ `GetPost`/ `GetInput`/ `GetDelete` çš„æ–¹å¼æ¥è·å–ï¼Œè€Œæ˜¯ç»Ÿä¸€é€šè¿‡ `GetForm` æ–¹æ³•æ¥è·å–è¡¨å•å‚æ•°ï¼Œé’ˆå¯¹å…¶ä»–çš„ `HTTP Method` ä¹Ÿæ˜¯å¦‚æ­¤ã€‚

åœ¨ `GoFrame` æ¡†æ¶ä¸‹ï¼Œæœ‰ä»¥ä¸‹å‡ ç§æäº¤ç±»å‹ï¼š

| æäº¤ç±»å‹ | æè¿° |
| --- | --- |
| `Router` | **è·¯ç”±å‚æ•°**ã€‚æ¥æºäºè·¯ç”±è§„åˆ™åŒ¹é…ã€‚ |
| `Query` | **`Query` å‚æ•°ã€‚** `URL` ä¸­çš„ `Query String` å‚æ•°è§£æï¼Œå¦‚ï¼š `http://127.0.0.1/index?id=1&name=john` ä¸­çš„ `id=1&name=john`ã€‚ |
| `Form` | **è¡¨å•å‚æ•°**ã€‚æœ€å¸¸è§çš„æäº¤æ–¹å¼ï¼Œæäº¤çš„ `Content-Type` å¾€å¾€ä¸ºï¼š `application/x-www-form-urlencoded`ã€ `multipart/form-data`ã€ `multipart/mixed`ã€‚ |
| `Body` | **å†…å®¹å‚æ•°**ã€‚ä» `Body` ä¸­è·å–å¹¶è§£æå¾—åˆ°çš„å‚æ•°ï¼Œ `JSON`/ `XML` è¯·æ±‚å¾€å¾€ä½¿ç”¨è¿™ç§æ–¹å¼æäº¤ã€‚ |
| `Custom` | **è‡ªå®šä¹‰å‚æ•°**ï¼Œå¾€å¾€åœ¨æœåŠ¡ç«¯çš„ä¸­é—´ä»¶ã€æœåŠ¡å‡½æ•°ä¸­é€šè¿‡ `SetParam/GetParam` æ–¹æ³•ç®¡ç†ã€‚ |

## å‚æ•°ç±»å‹

è·å–çš„å‚æ•°æ–¹æ³•å¯ä»¥å¯¹æŒ‡å®šé”®åçš„æ•°æ®è¿›è¡Œ **è‡ªåŠ¨ç±»å‹è½¬æ¢**ï¼Œä¾‹å¦‚ï¼š `http://127.0.0.1:8199/?amount=19.66`ï¼Œé€šè¿‡ `Get(xxx).String()` å°†ä¼šè¿”å› `19.66` çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œ `Get(xxx).Float32()`/ `Get(xxx).Float64()` å°†ä¼šåˆ†åˆ«è¿”å› `float32` å’Œ `float64` ç±»å‹çš„æ•°å€¼ `19.66`ã€‚ä½†æ˜¯ï¼Œ `Get(xxx).Int()`/ `Get(xxx).Uint()` å°†ä¼šè¿”å› `19`ï¼ˆå¦‚æœå‚æ•°ä¸º `float` ç±»å‹çš„å­—ç¬¦ä¸²ï¼Œå°†ä¼šæŒ‰ç…§ **å‘ä¸‹å–æ•´** è¿›è¡Œæ•´å‹è½¬æ¢ï¼‰ã€‚

èªæ˜çš„æ‚¨ä¸€å®šå‘ç°äº†ï¼Œè·å–åˆ°çš„å‚æ•°éƒ½æ˜¯ **æ³›å‹å˜é‡**ï¼Œæ ¹æ®è¯¥æ³›å‹å˜é‡å†æ ¹æ®éœ€è¦è°ƒç”¨å¯¹åº”çš„æ–¹æ³•è½¬æ¢ä¸ºå¯¹åº”çš„æ•°æ®ç±»å‹ã€‚

ä½¿ç”¨ç¤ºä¾‹ï¼š

```
package main

import (
	"github.com/gogf/gf/v2/frame/g"
	"github.com/gogf/gf/v2/net/ghttp"
)

func main() {
	s := g.Server()
	s.BindHandler("/", func(r *ghttp.Request) {
		r.Response.Writeln(r.Get("amount").String())
		r.Response.Writeln(r.Get("amount").Int())
		r.Response.Writeln(r.Get("amount").Float32())
	})
	s.SetPort(8199)
	s.Run()
}
```

æ‰§è¡Œåæˆ‘ä»¬è®¿é—®åœ°å€ [http://127.0.0.1:8199/?amount=19.66](http://127.0.0.1:8199/?amount=19.66) é¡µé¢è¾“å‡º

```
19.66
19
19.66
```

## å‚æ•°ä¼˜å…ˆçº§

æˆ‘ä»¬è€ƒè™‘ä¸€ç§åœºæ™¯ï¼Œå½“ä¸åŒçš„æäº¤æ–¹å¼ä¸­å­˜åœ¨åŒåçš„å‚æ•°åç§°ä¼šæ€ä¹ˆæ ·ï¼Ÿåœ¨ `GoFrame` æ¡†æ¶ä¸‹ï¼Œæˆ‘ä»¬æ ¹æ®ä¸åŒçš„è·å–æ–¹æ³•ï¼Œå°†ä¼šæŒ‰ç…§ä¸åŒçš„ä¼˜å…ˆçº§è¿›è¡Œè·å–ï¼Œä¼˜å…ˆçº§é«˜çš„æ–¹å¼æäº¤çš„å‚æ•°å°†ä¼šä¼˜å…ˆè¦†ç›–å…¶ä»–æ–¹å¼çš„åŒåå‚æ•°ã€‚ä¼˜å…ˆçº§è§„åˆ™å¦‚ä¸‹ï¼š

1. `Get` åŠ `GetRequset` æ–¹æ³•ï¼š `Router < Query < Body < Form < Custom`ï¼Œä¹Ÿå°±æ˜¯è¯´è‡ªå®šä¹‰å‚æ•°çš„ä¼˜å…ˆçº§æœ€é«˜ï¼Œå…¶æ¬¡æ˜¯ `Form` è¡¨å•å‚æ•°ï¼Œå†æ¬¡æ˜¯ `Body` æäº¤å‚æ•°ï¼Œä»¥æ­¤ç±»æ¨ã€‚ä¾‹å¦‚ï¼Œ `Query` å’Œ `Form` ä¸­éƒ½æäº¤äº†åŒæ ·åç§°çš„å‚æ•° `id`ï¼Œå‚æ•°å€¼åˆ†åˆ«ä¸º `1` å’Œ `2`ï¼Œé‚£ä¹ˆ `Get("id")`/ `GetForm("id")` å°†ä¼šè¿”å› `2`ï¼Œè€Œ `GetQuery("id")` å°†ä¼šè¿”å› `1`ã€‚
2. `GetQuery` æ–¹æ³•ï¼š `Query > Body`ï¼Œä¹Ÿå°±æ˜¯è¯´ `query string` çš„å‚æ•°å°†ä¼šè¦†ç›– `Body` ä¸­æäº¤çš„åŒåå‚æ•°ã€‚ä¾‹å¦‚ï¼Œ `Query` å’Œ `Body` ä¸­éƒ½æäº¤äº†åŒæ ·åç§°çš„å‚æ•° `id`ï¼Œå‚æ•°å€¼åˆ†åˆ«ä¸º `1` å’Œ `2`ï¼Œé‚£ä¹ˆ `Get("id")` å°†ä¼šè¿”å› `2`ï¼Œè€Œ `GetQuery("id")` å°†ä¼šè¿”å› `1`ã€‚
3. `GetForm` æ–¹æ³•ï¼šç”±äºè¯¥ç±»å‹çš„æ–¹æ³•ä»…ç”¨äºè·å– `Form` è¡¨å•å‚æ•°ï¼Œå› æ­¤æ²¡ä»€ä¹ˆä¼˜å…ˆçº§çš„å·®åˆ«ã€‚

ä½¿ç”¨ç¤ºä¾‹ï¼š

```
package main

import (
	"github.com/gogf/gf/v2/frame/g"
	"github.com/gogf/gf/v2/net/ghttp"
)

func main() {
	s := g.Server()
	s.BindHandler("/input", func(r *ghttp.Request) {
		r.Response.Writeln(r.Get("amount"))
	})
	s.BindHandler("/query", func(r *ghttp.Request) {
		r.Response.Writeln(r.GetQuery("amount"))
	})
	s.SetPort(8199)
	s.Run()
}
```

æ‰§è¡Œåï¼Œæˆ‘ä»¬é€šè¿‡ `curl` å·¥å…·è¿›è¡Œæµ‹è¯•ï¼š

```
$ curl -d "amount=1" -X POST "http://127.0.0.1:8199/input?amount=100"
1
$ curl -d "amount=1" -X POST "http://127.0.0.1:8199/query?amount=100"
100
```

å¯ä»¥çœ‹åˆ°ï¼Œå½“æˆ‘ä»¬è®¿é—® `/input` è·¯ç”±æ—¶ï¼Œè¯¥è·¯ç”±æ–¹æ³•ä¸­é‡‡ç”¨äº† `Get` æ–¹æ³•è·å– `amount` å‚æ•°ï¼ŒæŒ‰ç…§åŒåä¼˜å…ˆçº§çš„è§„åˆ™è¿”å›äº† `1`ï¼Œå³ `body` ä¸­ä¼ é€’çš„å‚æ•°ã€‚è€Œå½“æˆ‘ä»¬é€šè¿‡ `/query` è·¯ç”±è®¿é—®æ—¶ï¼Œè¯¥è·¯ç”±æ–¹æ³•å†…éƒ¨ä½¿ç”¨äº† `GetQuery` æ–¹æ³•è·å– `amount` å‚æ•°ï¼Œå› æ­¤è·å–åˆ°çš„æ˜¯ `query string` å‚æ•°ä¸­çš„ `amount` å€¼ï¼Œè¿”å›äº† `100`ã€‚

## å¤§å°å†™æ•æ„Ÿ

éœ€è¦æ³¨æ„å“¦ï¼Œ **å‚æ•°åç§°æ˜¯å¤§å°å†™æ•æ„Ÿ** çš„å“¦ï¼Œä¾‹å¦‚å®¢æˆ·ç«¯æäº¤çš„å‚æ•° `name` å’Œ `Name` æ˜¯ä¸¤ä¸ªå‚æ•°ã€‚ ç”±äºæœåŠ¡ç«¯é»˜è®¤æ˜¯é€šè¿‡å­—ç¬¦ä¸²åç§°è·å–å‚æ•°ï¼Œå› æ­¤å¤§å°å†™æ•æ„Ÿå¹¶ä¸ä¼šäº§ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯å¦‚æœæœåŠ¡ç«¯æ¥æ”¶çš„æ˜¯ä¸€ä¸ªAPIå¯¹è±¡ï¼Œé‚£ä¹ˆå¯èƒ½éœ€è¦æ³¨æ„ä¸€ä¸‹ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ã€‚

æœåŠ¡ç«¯ï¼š

```
package main

import (
	"context"

	"github.com/gogf/gf/v2/frame/g"
	"github.com/gogf/gf/v2/net/ghttp"
)

type Controller struct{}

type PathReq struct {
	g.Meta `path:"/api/v1/*path" method:"post"`
	Path   string
}

type PathRes struct {
	Path string
}

func (c *Controller) Path(ctx context.Context, req *PathReq) (res *PathRes, err error) {
	return &PathRes{Path: req.Path}, nil
}

func main() {
	s := g.Server()
	s.SetPort(8199)
	s.Use(ghttp.MiddlewareHandlerResponse)
	s.Group("/", func(group *ghttp.RouterGroup) {
		group.Bind(&Controller{})
	})
	s.Run()
}
```

æœåŠ¡ç«¯çš„æ¥å£è®¾è®¡åŸæ„æ˜¯å®šä¹‰ä¸€ä¸ªè·¯ç”±å‚æ•° `path`ï¼Œå¹¶ä¸”é€šè¿‡ `API` å¯¹è±¡çš„ `Path` å±æ€§æ¥æ¥æ”¶ã€‚

å®¢æˆ·ç«¯ï¼š

```
package main

import (
	"fmt"

	"github.com/gogf/gf/v2/frame/g"
	"github.com/gogf/gf/v2/os/gctx"
)

func main() {
	var (
		ctx    = gctx.New()
		client = g.Client()
	)
	client.SetPrefix("http://127.0.0.1:8199")
	for i := 0; i < 10; i++ {
		fmt.Println(client.PostContent(ctx, "/api/v1/user/info", `{"Path":"user/profile"}`))
	}
}
```

æ ¹æ®æˆ‘ä»¬çš„ç†è§£ï¼Œå®¢æˆ·ç«¯æäº¤åï¼ŒæœåŠ¡ç«¯åº”è¯¥ä¼šæ”¶åˆ°è·¯ç”±å‚æ•° `path` çš„å€¼ä¸º `user/info`ã€‚ä½†æ˜¯å¾ˆå¥‡æ€ªï¼Œç”±äºç¨‹åº `BUG`ï¼Œå®¢æˆ·ç«¯æäº¤çš„ `Body` ä¸­åŒæ ·æäº¤äº†ä¸€ä¸ª `JSON`ï¼Œå‚æ•°åç§°ä¸º `Path`ï¼Œå‚æ•°å€¼ä¸º `user/profile`ã€‚é‚£ä¹ˆè¿™ä¸ªæ—¶å€™æœåŠ¡ç«¯ `API` å¯¹è±¡ä¸­çš„å±æ€§ `Path` å°†ä¼šæ˜¯å“ªä¸ªå€¼å‘¢ï¼Ÿ

æˆ‘ä»¬å°†å®¢æˆ·ç«¯åå¤æ‰§è¡Œå¤šæ¬¡ï¼Œå‘ç°è¾“å‡ºçš„ç»“æœéƒ½æ˜¯ï¼š

```
{"code":0,"message":"","data":{"Path":"user/profile"}}
{"code":0,"message":"","data":{"Path":"user/profile"}}
{"code":0,"message":"","data":{"Path":"user/profile"}}
{"code":0,"message":"","data":{"Path":"user/profile"}}
{"code":0,"message":"","data":{"Path":"user/profile"}}
{"code":0,"message":"","data":{"Path":"user/profile"}}
{"code":0,"message":"","data":{"Path":"user/profile"}}
{"code":0,"message":"","data":{"Path":"user/profile"}}
{"code":0,"message":"","data":{"Path":"user/profile"}}
{"code":0,"message":"","data":{"Path":"user/profile"}}
```

å³å‚æ•°éƒ½æ˜¯ `Body` ä¸­æäº¤çš„å€¼ï¼Œè€Œä¸æ˜¯è·¯ç”±å‚æ•°ä¸­çš„å€¼ã€‚å…¶å®ï¼Œ **ç”±äºå‚æ•°å¤§å°å†™æ•æ„Ÿçš„ç¼˜æ•…**ï¼ŒæœåŠ¡ç«¯è¿™ä¸ªæ—¶å€™æ¥å—åˆ°äº†ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯è·¯ç”±å‚æ•° `path`ï¼Œä¸€ä¸ªæ˜¯ `Body JSON` æäº¤çš„ `Path`ã€‚æœåŠ¡ç«¯åœ¨è½¬æ¢ `API` å‚æ•°å¯¹è±¡çš„æ—¶å€™ï¼Œç”±äºå±æ€§ `Path` å’Œ `Body JSON` ä¸­æäº¤çš„ `Path` æ›´åŒ¹é…ï¼Œå› æ­¤ï¼Œä½¿ç”¨çš„æ˜¯ `Body JSON` ä¸­çš„ `Path` çš„å€¼ã€‚

## ç»§ç»­äº†è§£

- [è¯·æ±‚è¾“å…¥-å¤æ‚å‚æ•°](/docs/WEBæœåŠ¡å¼€å‘/è¯·æ±‚è¾“å…¥/è¯·æ±‚è¾“å…¥-å¤æ‚å‚æ•°)
- [è¯·æ±‚è¾“å…¥-å¯¹è±¡å¤„ç†](/docs/WEBæœåŠ¡å¼€å‘/è¯·æ±‚è¾“å…¥/è¯·æ±‚è¾“å…¥-å¯¹è±¡å¤„ç†)
- [è¯·æ±‚è¾“å…¥-è¯·æ±‚æ ¡éªŒ](/docs/WEBæœåŠ¡å¼€å‘/è¯·æ±‚è¾“å…¥/è¯·æ±‚è¾“å…¥-è¯·æ±‚æ ¡éªŒ)
- [è¯·æ±‚è¾“å…¥-JSON/XML](/docs/WEBæœåŠ¡å¼€å‘/è¯·æ±‚è¾“å…¥/è¯·æ±‚è¾“å…¥-JSONXML)
- [è¯·æ±‚è¾“å…¥-é»˜è®¤å€¼ç»‘å®š](/docs/WEBæœåŠ¡å¼€å‘/è¯·æ±‚è¾“å…¥/è¯·æ±‚è¾“å…¥-é»˜è®¤å€¼ç»‘å®š)
- [è¯·æ±‚è¾“å…¥-è‡ªå®šä¹‰å‚æ•°](/docs/WEBæœåŠ¡å¼€å‘/è¯·æ±‚è¾“å…¥/è¯·æ±‚è¾“å…¥-è‡ªå®šä¹‰å‚æ•°)
- [è¯·æ±‚è¾“å…¥-Context](/docs/WEBæœåŠ¡å¼€å‘/è¯·æ±‚è¾“å…¥/è¯·æ±‚è¾“å…¥-Context)
- [è¯·æ±‚è¾“å…¥-æ–‡ä»¶ä¸Šä¼ ](/docs/WEBæœåŠ¡å¼€å‘/è¯·æ±‚è¾“å…¥/è¯·æ±‚è¾“å…¥-æ–‡ä»¶ä¸Šä¼ )