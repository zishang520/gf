<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-版本发布记录/v2.3 2023-01-18" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">v2.3 2023-01-18 | GoFrame</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://goframe.org/gf/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://goframe.org/gf/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://goframe.org/gf/docs/版本发布记录/v2.3 2023-01-18"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="v2.3 2023-01-18 | GoFrame"><meta data-rh="true" name="description" content="大家好啊！本次版本是 2022 年最后一个版本，也是 2023 年的第一个版本。该版本主要的目标："><meta data-rh="true" property="og:description" content="大家好啊！本次版本是 2022 年最后一个版本，也是 2023 年的第一个版本。该版本主要的目标："><link data-rh="true" rel="icon" href="/gf/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://goframe.org/gf/docs/版本发布记录/v2.3 2023-01-18"><link data-rh="true" rel="alternate" href="https://goframe.org/gf/docs/版本发布记录/v2.3 2023-01-18" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://goframe.org/gf/docs/版本发布记录/v2.3 2023-01-18" hreflang="x-default"><link rel="stylesheet" href="/gf/assets/css/styles.8f549afe.css">
<script src="/gf/assets/js/runtime~main.11f57a77.js" defer="defer"></script>
<script src="/gf/assets/js/main.ae5403c2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/gf/"><div class="navbar__logo"><img src="/gf/img/favicon.ico" alt="GoFrame Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/gf/img/favicon.ico" alt="GoFrame Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">GoFrame</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/gf/docs/">文档</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/gogf/gf" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/gf/docs/">首页</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gf/docs/快速开始/">快速开始</a><button aria-label="展开侧边栏分类 &#x27;快速开始&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gf/docs/框架设计/">框架设计</a><button aria-label="展开侧边栏分类 &#x27;框架设计&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gf/docs/项目开发/">项目开发</a><button aria-label="展开侧边栏分类 &#x27;项目开发&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gf/docs/开发工具/">开发工具</a><button aria-label="展开侧边栏分类 &#x27;开发工具&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gf/docs/核心组件/">核心组件(🔥重点🔥)</a><button aria-label="展开侧边栏分类 &#x27;核心组件(🔥重点🔥)&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gf/docs/组件列表/">组件列表</a><button aria-label="展开侧边栏分类 &#x27;组件列表&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gf/docs/微服务开发/">微服务开发</a><button aria-label="展开侧边栏分类 &#x27;微服务开发&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gf/docs/WEB服务开发/">WEB服务开发</a><button aria-label="展开侧边栏分类 &#x27;WEB服务开发&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gf/docs/网络服务开发/">网络服务开发</a><button aria-label="展开侧边栏分类 &#x27;网络服务开发&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/gf/docs/版本发布记录/">版本发布记录</a><button aria-label="折叠侧边栏分类 &#x27;版本发布记录&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gf/docs/版本发布记录/v2.6 2023-12-19">v2.6 2023-12-19</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gf/docs/版本发布记录/v2.5 2023-07-17">v2.5 2023-07-17</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gf/docs/版本发布记录/v2.4 2023-04-24">v2.4 2023-04-24</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/gf/docs/版本发布记录/v2.3 2023-01-18">v2.3 2023-01-18</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gf/docs/版本发布记录/v2.2 2022-10-11">v2.2 2022-10-11</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gf/docs/版本发布记录/v2.1 2022-06-22">v2.1 2022-06-22</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/gf/docs/版本发布记录/v2.0 2022-03-09">v2.0 2022-03-09</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/gf/docs/版本发布记录/历史版本记录 v1.x/">历史版本记录 v1.x</a><button aria-label="展开侧边栏分类 &#x27;历史版本记录 v1.x&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/gf/docs/版本发布记录/历史版本记录 v0.x/">历史版本记录 v0.x</a><button aria-label="展开侧边栏分类 &#x27;历史版本记录 v0.x&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gf/docs/技术分享交流/">技术分享交流</a><button aria-label="展开侧边栏分类 &#x27;技术分享交流&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/gf/docs/提交使用案例">提交使用案例</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/gf/docs/常见问题-FAQ">常见问题(FAQ)</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gf/docs/加入我们/">加入我们</a><button aria-label="展开侧边栏分类 &#x27;加入我们&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gf/docs/支持我们/">支持我们</a><button aria-label="展开侧边栏分类 &#x27;支持我们&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/gf/docs/其他资料/">其他资料</a><button aria-label="展开侧边栏分类 &#x27;其他资料&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/gf/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/gf/docs/版本发布记录/"><span itemprop="name">版本发布记录</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">v2.3 2023-01-18</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>v2.3 2023-01-18</h1></header><p>大家好啊！本次版本是 <code>2022</code> 年最后一个版本，也是 <code>2023</code> 年的第一个版本。该版本主要的目标：</p>
<ul>
<li>采用接口化设计解决了主框架对第三方开源组件 <code>go-redis</code> 耦合的问题，使得主框架更加轻量，对工具化使用框架的场景更加友好。</li>
<li>通过开发工具提供升级 主框架、社区组件、开发工具 的命令，提高框架整体易用性，并解决常见的社区组件与主框架版本不一致问题。</li>
<li>进一步按照接口与实现分离设计，通过社区组件方式，完善注册发现、配置管理对常用服务 的对接，为下一步发布微服务组件做准备。</li>
</ul>
<p>完整变更列表： <a href="https://github.com/gogf/gf/compare/v2.2.0...v2.3.1" target="_blank" rel="noopener noreferrer">https://github.com/gogf/gf/compare/v2.2.0...v2.3.1</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="新特性">新特性<a href="#新特性" class="hash-link" aria-label="新特性的直接链接" title="新特性的直接链接">​</a></h2>
<ol>
<li>将耦合较重的 <code>redis</code> 组件从主框架中解耦，作为社区组件提供。原有主框架增加 <code>redis</code> 接口定义，社区组件 <code>redis</code> 提供具体的接口实现。因此，请注意，主框架 <code>gredis</code> 组件的使用方式发生了一些变更，在依赖 <code>redis</code> 的项目中需要引入社区组件 <code>redis</code> 实现，否则方法执行将会返回错误。保留兼容原有基础的 <code>Do/DoVar</code> 方法，并增加了 <code>100+</code> 项常用 <code>redis</code> 操作方法： <a href="/gf/docs/核心组件/NoSQL Redis">NoSQL Redis</a></li>
<li>配置管理及注册发现组件新增常用服务接口实现：<!-- -->
<ul>
<li><strong>配置管理</strong>（ <code>nacos</code>）： <a href="https://github.com/gogf/gf/tree/master/contrib/config/nacos" target="_blank" rel="noopener noreferrer">https://github.com/gogf/gf/tree/master/contrib/config/nacos</a></li>
<li><strong>注册发现</strong>（ <code>zookeeper</code>）： <a href="https://github.com/gogf/gf/tree/master/contrib/registry/zookeeper" target="_blank" rel="noopener noreferrer">https://github.com/gogf/gf/tree/master/contrib/registry/zookeeper</a></li>
</ul>
</li>
<li>新增工具命令 <code>gf up</code>，用于便捷的框架升级操作，具体介绍请查看： <a href="/gf/docs/开发工具/框架升级-up">框架升级-up</a></li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="功能改进">功能改进<a href="#功能改进" class="hash-link" aria-label="功能改进的直接链接" title="功能改进的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="社区组件">社区组件<a href="#社区组件" class="hash-link" aria-label="社区组件的直接链接" title="社区组件的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="配置管理">配置管理<a href="#配置管理" class="hash-link" aria-label="配置管理的直接链接" title="配置管理的直接链接">​</a></h4>
<ol>
<li>新增 <code>nacos</code> 接口实现： <a href="https://github.com/gogf/gf/tree/master/contrib/config/nacos" target="_blank" rel="noopener noreferrer">https://github.com/gogf/gf/tree/master/contrib/config/nacos</a></li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="注册发现">注册发现<a href="#注册发现" class="hash-link" aria-label="注册发现的直接链接" title="注册发现的直接链接">​</a></h4>
<ol>
<li>新增 <code>zookeeper</code> 接口实现： <a href="https://github.com/gogf/gf/tree/master/contrib/registry/zookeeper" target="_blank" rel="noopener noreferrer">https://github.com/gogf/gf/tree/master/contrib/registry/zookeeper</a></li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="数据库驱动">数据库驱动<a href="#数据库驱动" class="hash-link" aria-label="数据库驱动的直接链接" title="数据库驱动的直接链接">​</a></h4>
<ol>
<li>修复 <code>clickhouse</code> 在配置 <code>Charset</code> 参数时的报错问题。</li>
<li>改进 <code>clickhouse</code> 获取数据表结构结果，返回的 <code>Index</code> 顺序统一从 <code>0</code> 开始。</li>
<li>改进 <code>oracle</code> 表结构获取SQL，以支持 <code>float64</code> 数据类型。</li>
<li>修复 <code>pgsql</code> 对接口 <code>CheckLocalTypeForField</code> 的实现，名称被错误定义为了 <code>CheckLocalTypeForValue</code>，造成生成 <code>dao</code> 代码文件时的属性字段类型错误。</li>
<li>改进 <code>pgsql</code> 增加对 <code>schema</code> 的支持，由于 <code>shcema</code> 在大部分数据库服务中代表&quot;数据库名称&quot;，并且也为了兼容旧版本，因此增加 <code>Namespace</code> 配置参数用以表示 <code>pgsql</code> 的 <code>Schema</code>，而原有的 <code>Schema</code> 对象代表 <code>pgsql</code> 的 <code>catalog</code>。</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="nosql组件">NoSQL组件<a href="#nosql组件" class="hash-link" aria-label="NoSQL组件的直接链接" title="NoSQL组件的直接链接">​</a></h4>
<ol>
<li>新增 <code>redis</code> 社区组件，实现 <code>gredis</code> 相关接口： <a href="https://github.com/gogf/gf/tree/master/contrib/nosql/redis" target="_blank" rel="noopener noreferrer">https://github.com/gogf/gf/tree/master/contrib/nosql/redis</a></li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="数据库组件">数据库组件<a href="#数据库组件" class="hash-link" aria-label="数据库组件的直接链接" title="数据库组件的直接链接">​</a></h3>
<ol>
<li><code>gdb</code></li>
<li>为提高扩展性， <code>TX</code> 事务对象改为了接口定义，原有的 <code>TX</code> 对象改为了 <code>TXCore</code> 方便自定义接口实现对象的嵌套： <a href="/gf/docs/核心组件/数据库ORM/ORM事务处理">ORM事务处理</a></li>
<li>增加 <code>Namespce</code> 配置项，用以支持个别数据库服务 <code>Catalog&amp;Schema</code> 区分的问题，原有的 <code>Schema</code> 继续代表数据库名称，而新增的 <code>NameSpace</code> 代表个别数据库服务的 <code>Schema</code> 配置： <a href="/gf/docs/核心组件/数据库ORM/ORM使用配置">ORM使用配置</a></li>
<li>改进数据库名称配置，增加对中文数据库名称的支持。</li>
<li>执行 <code>SQL</code> 日志中增加当前执行的数据库名称打印。</li>
<li>修复 <code>Count</code> 方法的缓存问题。</li>
<li><code>gredis</code></li>
<li>新增 <code>redis</code> 社区组件，将耦合较重的 <code>redis</code> 组件从主框架中解耦，作为社区组件提供。原有主框架增加 <code>redis</code> 接口定义，而社区组件 <code>redis</code> 提供具体的接口实现。因此，请注意，主框架 <code>gredis</code> 组件的使用方式发生了一些变更，在依赖 <code>redis</code> 的项目中需要引入社区组件 <code>redis</code> 实现，否则方法执行将会返回错误。保留兼容原有的 <code>Do/DoVar</code> 方法，并增加了 <code>100+</code> 项常用 <code>redis</code> 操作方法： <a href="/gf/docs/核心组件/NoSQL Redis">NoSQL Redis</a></li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="容器组件">容器组件<a href="#容器组件" class="hash-link" aria-label="容器组件的直接链接" title="容器组件的直接链接">​</a></h3>
<ol>
<li><code>gpool</code></li>
<li>增加 <code>MustPut</code> 方法，在 <code>Put</code> 执行出错时直接 <code>panic</code> 而不是返回错误对象</li>
<li><code>gqueue</code></li>
<li>改进 <code>Len/Size</code> 方法，解决可能存在的队列计数不准确问题。</li>
<li>改进 <code>Len/Size</code> 方法，返回参数类型由 <code>int</code> 改为 <code>int64</code>。</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="错误处理">错误处理<a href="#错误处理" class="hash-link" aria-label="错误处理的直接链接" title="错误处理的直接链接">​</a></h3>
<ol>
<li><code>gcode</code></li>
<li>增加 <code>CodeNecessaryPackageNotImport</code> 错误码。</li>
<li><code>gerror</code></li>
<li>改进堆栈打印，统一使用空格替代 <code>\t</code>，以保证打印格式兼容不同的展示终端。</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="对象管理">对象管理<a href="#对象管理" class="hash-link" aria-label="对象管理的直接链接" title="对象管理的直接链接">​</a></h3>
<ol>
<li><code>gins</code></li>
<li>单例对象增加分组锁机制，提升在高并发下的锁机制性能。</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="网络组件">网络组件<a href="#网络组件" class="hash-link" aria-label="网络组件的直接链接" title="网络组件的直接链接">​</a></h3>
<ol>
<li><code>ghttp</code></li>
<li>支持在中间件中增加对当前执行路由方法的获取。</li>
<li>当路由方法执行的结果不为 <code>200</code> 时，支持在中间件中通过 <code>Request.GetError</code> 方法获取内部错误。</li>
<li>新增 <code>Response.ServeContent</code> 方法，用于自定义的内容输出接口实现。</li>
<li>改进反向代理支持，并增加反向代理示例： <a href="https://github.com/gogf/gf/blob/master/example/httpserver/proxy/main.go" target="_blank" rel="noopener noreferrer">https://github.com/gogf/gf/blob/master/example/httpserver/proxy/main.go</a></li>
<li>改进错误日志输出，使用 <code>error</code> 错误级别，便于开发者在自定义日志 <code>Handler</code> 中识别日志类型。</li>
<li><code>goai</code></li>
<li>新增对 <code>security</code> 标签的支持，用以配置 <code>OpenAPIv3</code> 安全密钥。</li>
<li>改进对带有 <code>json</code> 标签带有 <code>,</code> 符号时结构体属性的名称获取。</li>
<li><code>gtcp</code></li>
<li><code>SetSendDeadline</code> 方法名称修改为 <code>SetDeadlineSend</code>。</li>
<li><code>SetReceiveDeadline</code> 方法名称修改为 <code>SetDeadlineRecv</code>。</li>
<li><code>SetReceiveBufferWait</code> 方法名称修改为 <code>SetBufferWaitRecv</code>。</li>
<li><code>gudp</code></li>
<li><code>SetSendDeadline</code> 方法名称修改为 <code>SetDeadlineSend</code>。</li>
<li><code>SetReceiveDeadline</code> 方法名称修改为 <code>SetDeadlineRecv</code>。</li>
<li><code>SetReceiveBufferWait</code> 方法名称修改为 <code>SetBufferWaitRecv</code>。</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="系统组件">系统组件<a href="#系统组件" class="hash-link" aria-label="系统组件的直接链接" title="系统组件的直接链接">​</a></h3>
<ol>
<li><code>gcache</code></li>
<li>修复 <code>MustGetOrSetFunc</code> 方法逻辑问题。</li>
<li>改进 <code>LRU</code> 缓存过期回收机制实现。</li>
<li><code>gcmd</code></li>
<li>改进结构化命令行对象生成，当 <code>brief</code> 标签为空时，自动读取 <code>dc</code> 标签内容作为 <code>brief</code>，以保证命令行与接口定义标签习惯相同。</li>
<li><code>gcron</code></li>
<li>改进日志处理，当给定的定时任务方法执行 <code>panic</code> 并且开发者没有设置 <code>Logger</code> 接口时，将会使用 <code>glog.DefaultLogger</code> 输出错误日志。</li>
<li>改进定时触发判断逻辑，解决在底层定时器执行间隔不准确时引起的定时任务触发问题。</li>
<li><code>glog</code></li>
<li>改进在滚动切分特性开启时的初始化逻辑，解决在个别场景下的初始化失败导致滚动切分执行失败问题。</li>
<li>改进 <code>Clone</code> 方法，进一步浅拷贝提高链式操作性能。</li>
<li>新增 <code>LevelPrint</code> 配置，用以控制默认日志 <code>Handler</code> 是否打印日志级别字符串。</li>
<li><code>gres</code></li>
<li>新增 <code>Pack*WithOption</code> 方法，用以提供更细致的资源打包选项控制。</li>
<li>标记方法废弃： <code>Pack/PackToFile/PackToGoFile</code>。</li>
<li>新增 <code>KeepPath</code> 打包选项，用以控制是否在打包文件中保留给定的相对路径，而不是使用带有本地打包目录前缀的路径（相当于去掉了目录前缀）。</li>
<li><code>grpool</code></li>
<li>新增 <code>supervisor</code> 特性，解决在 <code>worker</code> 数量较少的场景下，低概率下同时退出的问题。</li>
<li><code>gstructs</code></li>
<li>新增 <code>Tag*</code> 方法，用以获取常见的标签值。</li>
<li><code>gtime</code></li>
<li>改进 <code>Equal/After/Sub</code> 方法，解决在个别场景下的细节问题。</li>
<li>改进 <code>EndOf*</code> 方法，返回的时间对象由开发者控制 <code>EndOf</code> 计算的粒度。调整默认粒度，由纳秒改为秒粒度进行计算。</li>
<li>改进 <code>SetTimeZone</code> 时区设置方法，以实现不同系统下的兼容性，该方法只允许全局设置一次时区，多次调用设置不同时区将会返回错误： <a href="/gf/docs/组件列表/系统相关/时间管理-gtime/时间管理-时区设置">时间管理-时区设置</a></li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="文本处理">文本处理<a href="#文本处理" class="hash-link" aria-label="文本处理的直接链接" title="文本处理的直接链接">​</a></h3>
<ol>
<li><code>gstr</code></li>
<li>修复 <code>IsSubDomain</code> 判断主域名为子域名的子域名问题。</li>
<li>改进 <code>SubStr/SubStrRune</code> 方法，支持以负数的 <code>start</code> 参数指定从右截取字符串。</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="工具组件">工具组件<a href="#工具组件" class="hash-link" aria-label="工具组件的直接链接" title="工具组件的直接链接">​</a></h3>
<ol>
<li><code>gconv</code></li>
<li>新增 <code>Ptr*</code> 方法，用以任意类型到指定类型指针变量的转换。</li>
<li>改进 <code>Map*</code> 转换方法对递归转换的处理，默认只会递归转换嵌套的结构体属性。</li>
<li>改进 <code>Scan</code> 方法，解决属性同类型以及同类型指针到目标对象/指针的转换问题。</li>
<li><code>gtag</code></li>
<li>将框架中所有的标签名称统一到该模块下通过常量维护。</li>
<li>增加 <code>SetOver/SetsOver</code> 方法，用于覆盖设置自定义的标签键值对。</li>
<li><code>gutil</code></li>
<li>改进 <code>Dump*</code> 方法，支持循环嵌套的对象指针打印。</li>
<li>修复 <code>Dump*</code> 方法在部分场景下的反射报错问题。</li>
<li>新增 <code>OriginValueAndKind/OriginTypeAndKind</code>   方法，用于获取给定变量的反射值/类型对象，以及在指针变量下对应的原始反射值/类型对象。</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="功能修复">功能修复<a href="#功能修复" class="hash-link" aria-label="功能修复的直接链接" title="功能修复的直接链接">​</a></h2>
<ol>
<li>修复工具在部分环境下安装失败问题。</li>
<li>修复 <code>New*ArrayRange</code> 方法创建数组对象时，在部分场景下数组越界问题。</li>
<li>修复 <code>contrib/drivers/clickhouse</code> 在配置 <code>Charset</code> 参数时的报错问题。</li>
<li>修复 <code>pgsql</code> 数据库生成 <code>dao</code> 代码文件时的属性字段类型错误问题。</li>
<li>修复数据库ORM组件中 <code>Count</code> 方法的缓存问题。</li>
<li>修复 <code>gstr.IsSubDomain</code> 判断主域名为子域名的子域名问题。</li>
<li>修复 <code>gutil.Dump*</code> 方法在部分场景下的反射报错问题。</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="开发工具">开发工具<a href="#开发工具" class="hash-link" aria-label="开发工具的直接链接" title="开发工具的直接链接">​</a></h2>
<ol>
<li>增加 <code>gf fix</code> 命令，用于低版本升级高版本自动更新本地代码不兼容变更： <a href="/gf/docs/开发工具/兼容修复-fix">兼容修复-fix</a></li>
<li>增加 <code>gf up</code> 命令，用以将本地的框架低版本升级到最新的框架版本： <a href="/gf/docs/开发工具/框架升级-up">框架升级-up</a></li>
<li>改进 <code>gf build</code> 命令，在构建之前增加环境变量信息打印。</li>
<li>改进 <code>gf pack</code> 命令，增加 <code>KeepPath</code> 参数，用以控制资源打包后是否保留相对路径： <a href="/gf/docs/开发工具/资源打包-pack">资源打包-pack</a></li>
<li>改进 <code>gf gen dao</code> 命令，生成的 <code>Transaction</code> 方法中 <code>tx</code> 参数从对象指针 改为了接口。</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="兼容提示">兼容提示<a href="#兼容提示" class="hash-link" aria-label="兼容提示的直接链接" title="兼容提示的直接链接">​</a></h2>
<ol>
<li><code>Redis</code> 的使用方式发生变更，旧版方法保持兼容，但需要额外添加社区组件的引入（接口与实现分离），具体请查看文档。</li>
<li>数据库 <code>ORM</code> 的 <code>TX</code> 对象从具体实现改为了接口，这块通过开发工具新增的 <code>up</code> 或者 <code>fix</code> 命令即可自动升级修复。</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="下一版本目标">下一版本目标<a href="#下一版本目标" class="hash-link" aria-label="下一版本目标的直接链接" title="下一版本目标的直接链接">​</a></h2>
<ul>
<li>完善并发布 <code>grpcx</code> 社区组件，实现对 <code>grpc</code> 接口协议的扩展支持，并提高微服务开发易用性。</li>
<li>官网新增【微服务开发】系列章节，主要以 <code>grpc</code> 开发为主介绍使用 <code>goframe</code> 进行微服务开发。</li>
<li>主框架去掉对第三方开源组件 <code>gorilla/websocket</code> 的耦合，将 <code>WebSocket</code> 的支持接口化，按照框架的通用解耦设计，通过社区组件提供具体实现，提供扩展性和灵活性。</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/gf/docs/版本发布记录/v2.4 2023-04-24"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">v2.4 2023-04-24</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/gf/docs/版本发布记录/v2.2 2022-10-11"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">v2.2 2022-10-11</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#新特性" class="table-of-contents__link toc-highlight">新特性</a></li><li><a href="#功能改进" class="table-of-contents__link toc-highlight">功能改进</a><ul><li><a href="#社区组件" class="table-of-contents__link toc-highlight">社区组件</a><ul><li><a href="#配置管理" class="table-of-contents__link toc-highlight">配置管理</a></li><li><a href="#注册发现" class="table-of-contents__link toc-highlight">注册发现</a></li><li><a href="#数据库驱动" class="table-of-contents__link toc-highlight">数据库驱动</a></li><li><a href="#nosql组件" class="table-of-contents__link toc-highlight">NoSQL组件</a></li></ul></li><li><a href="#数据库组件" class="table-of-contents__link toc-highlight">数据库组件</a></li><li><a href="#容器组件" class="table-of-contents__link toc-highlight">容器组件</a></li><li><a href="#错误处理" class="table-of-contents__link toc-highlight">错误处理</a></li><li><a href="#对象管理" class="table-of-contents__link toc-highlight">对象管理</a></li><li><a href="#网络组件" class="table-of-contents__link toc-highlight">网络组件</a></li><li><a href="#系统组件" class="table-of-contents__link toc-highlight">系统组件</a></li><li><a href="#文本处理" class="table-of-contents__link toc-highlight">文本处理</a></li><li><a href="#工具组件" class="table-of-contents__link toc-highlight">工具组件</a></li></ul></li><li><a href="#功能修复" class="table-of-contents__link toc-highlight">功能修复</a></li><li><a href="#开发工具" class="table-of-contents__link toc-highlight">开发工具</a></li><li><a href="#兼容提示" class="table-of-contents__link toc-highlight">兼容提示</a></li><li><a href="#下一版本目标" class="table-of-contents__link toc-highlight">下一版本目标</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>